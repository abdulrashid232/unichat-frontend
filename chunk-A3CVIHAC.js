import{z as n}from"./chunk-EMO2IYOT.js";var i=class r{constructor(){}formatError(e,t="An unexpected error occurred"){if(!e)return t;if(e.status)switch(e.status){case 400:return this.getBadRequestMessage(e);case 401:return"You are not authorized. Please log in again.";case 403:return"You do not have permission to perform this action.";case 404:return"The requested resource was not found.";case 409:return"This action conflicts with the current state.";case 422:return this.getValidationMessage(e);case 429:return"Too many requests. Please try again later.";case 500:return"Server error. Please try again later.";case 503:return"Service unavailable. Please try again later."}let s=t;return typeof e=="string"?s=e:e.message?s=e.message:e.error?.message?s=e.error.message:e.statusText&&e.status&&(s=`${e.statusText} (${e.status})`),this.cleanMessage(s)}getValidationMessage(e){if(Array.isArray(e.error?.errors))return e.error.errors.map(t=>t.message||t).join(". ");if(typeof e.error?.errors=="object"){let t=[];for(let s in e.error.errors)if(Object.prototype.hasOwnProperty.call(e.error.errors,s)){let a=e.error.errors[s];t.push(Array.isArray(a)?a.join(". "):a)}return t.join(". ")}return"Validation failed. Please check your input."}getBadRequestMessage(e){return e.error?.message?e.error.message:"Invalid request. Please check your input."}cleanMessage(e){return e.replace(/^error:?\s*/i,"").replace(/^exception:?\s*/i,"").replace(/^failed:?\s*/i,"").replace(/\.$/,"").replace(/^[a-z]/,t=>t.toUpperCase()).trim()}static \u0275fac=function(t){return new(t||r)};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{i as a};
