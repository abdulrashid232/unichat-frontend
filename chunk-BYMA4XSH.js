import{b as F}from"./chunk-MI5SW7QG.js";import{a as E,b as p,c as R,d as T,e as q,f as P,g as N,h as L,i as A,j as G}from"./chunk-IE3VFMC2.js";import{a as V}from"./chunk-RUV7RGJV.js";import{B as C,Ba as w,Ja as S,Ka as b,L as l,O as f,P as x,T as s,W as v,Z as d,aa as a,ba as i,ca as u,ea as y,fa as _,ja as r}from"./chunk-AWLQVQJC.js";function j(e,n){e&1&&(a(0,"div",8),r(1,"Name is required"),i())}function I(e,n){e&1&&r(0," Email is required ")}function k(e,n){e&1&&r(0," Please enter a valid email address ")}function D(e,n){if(e&1&&(a(0,"div",8),s(1,I,1,0)(2,k,1,0),i()),e&2){let o,t=_();l(),d((o=t.registerForm.get("email"))!=null&&o.hasError("required")?1:(o=t.registerForm.get("email"))!=null&&o.hasError("email")?2:-1)}}function B(e,n){e&1&&r(0," Password is required ")}function z(e,n){e&1&&r(0," Password must be at least 6 characters ")}function U(e,n){if(e&1&&(a(0,"div",8),s(1,B,1,0)(2,z,1,0),i()),e&2){let o,t=_();l(),d((o=t.registerForm.get("password"))!=null&&o.hasError("required")?1:(o=t.registerForm.get("password"))!=null&&o.hasError("minlength")?2:-1)}}function H(e,n){e&1&&(a(0,"div",8),r(1,"Passwords do not match"),i())}function O(e,n){e&1&&(C(),a(0,"svg",21),u(1,"circle",22)(2,"path",23),i(),r(3," Creating account... "))}function Y(e,n){e&1&&r(0," Create account ")}var M=class e{constructor(n,o,t,m){this.fb=n;this.authService=o;this.router=t;this.toastService=m;this.registerForm=this.fb.group({name:["",[p.required]],email:["",[p.required,p.email]],university:[""],password:["",[p.required,p.minLength(6)]],confirmPassword:["",[p.required]]},{validators:[this.passwordMatchValidator]})}registerForm;isLoading=!1;passwordMatchValidator(n){return n.get("password")?.value===n.get("confirmPassword")?.value?null:{mismatch:!0}}onSubmit(){if(this.registerForm.invalid)return;this.isLoading=!0;let{name:n,email:o,university:t,password:m}=this.registerForm.value;this.authService.register(n,o,m,t).subscribe({next:()=>{this.isLoading=!1,this.toastService.success("Account created successfully!"),this.router.navigate(["/chat"])},error:c=>{this.isLoading=!1,this.toastService.error(c.message)}})}static \u0275fac=function(o){return new(o||e)(f(A),f(F),f(S),f(V))};static \u0275cmp=x({type:e,selectors:[["app-register"]],decls:42,vars:7,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],[1,"mt-8","space-y-6",3,"ngSubmit","formGroup"],[1,"rounded-md","shadow-sm","space-y-4"],["for","name",1,"form-label"],["id","name","name","name","type","text","formControlName","name","placeholder","Full name","required","",1,"form-input"],[1,"form-error"],["for","email",1,"form-label"],["id","email","name","email","type","email","formControlName","email","placeholder","Email address","required","",1,"form-input"],["for","university",1,"form-label"],["id","university","name","university","type","text","formControlName","university","placeholder","Your university",1,"form-input"],["for","password",1,"form-label"],["id","password","name","password","type","password","formControlName","password","placeholder","Password","required","",1,"form-input"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","name","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirm password","required","",1,"form-input"],["type","submit",1,"btn","btn-primary","w-full","flex","justify-center",3,"disabled"],[1,"text-sm","text-center"],[1,"text-gray-600"],["routerLink","/login",1,"font-medium","text-primary","hover:text-primary-dark"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(o,t){if(o&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),r(4," Create your UniChat account "),i(),a(5,"p",3),r(6," Connect with your university AI assistant "),i()(),a(7,"form",4),y("ngSubmit",function(){return t.onSubmit()}),a(8,"div",5)(9,"div")(10,"label",6),r(11,"Full name"),i(),u(12,"input",7),s(13,j,2,0,"div",8),i(),a(14,"div")(15,"label",9),r(16,"Email address"),i(),u(17,"input",10),s(18,D,3,1,"div",8),i(),a(19,"div")(20,"label",11),r(21,"University (Optional)"),i(),u(22,"input",12),i(),a(23,"div")(24,"label",13),r(25,"Password"),i(),u(26,"input",14),s(27,U,3,1,"div",8),i(),a(28,"div")(29,"label",15),r(30,"Confirm password"),i(),u(31,"input",16),s(32,H,2,0,"div",8),i()(),a(33,"div")(34,"button",17),s(35,O,4,0)(36,Y,1,0),i()(),a(37,"div",18)(38,"p",19),r(39," Already have an account? "),a(40,"a",20),r(41," Sign in "),i()()()()()()),o&2){let m,c,g,h;l(7),v("formGroup",t.registerForm),l(6),d((m=t.registerForm.get("name"))!=null&&m.invalid&&((m=t.registerForm.get("name"))!=null&&m.touched)?13:-1),l(5),d((c=t.registerForm.get("email"))!=null&&c.invalid&&((c=t.registerForm.get("email"))!=null&&c.touched)?18:-1),l(9),d((g=t.registerForm.get("password"))!=null&&g.invalid&&((g=t.registerForm.get("password"))!=null&&g.touched)?27:-1),l(5),d((h=t.registerForm.get("confirmPassword"))!=null&&h.touched&&t.registerForm.hasError("mismatch")?32:-1),l(2),v("disabled",t.registerForm.invalid||t.isLoading),l(),d(t.isLoading?35:36)}},dependencies:[w,G,q,E,R,T,L,P,N,b],encapsulation:2})};export{M as RegisterComponent};
