import{b as E}from"./chunk-PH6QZKJI.js";import{a as R,b as p,c as q,d as P,e as N,f as T,g as M,h as L,i as G,j as V}from"./chunk-NFRYHEAP.js";import"./chunk-BYXBJQAS.js";import{A as h,Aa as S,Ba as F,G as l,I as g,J as C,N as m,Q as _,S as s,V as a,W as i,X as u,Z as w,_ as v,ca as n,da as y,ta as b}from"./chunk-HSJBYG5P.js";function I(e,o){e&1&&(a(0,"div",8),n(1,"Name is required"),i())}function j(e,o){e&1&&n(0," Email is required ")}function k(e,o){e&1&&n(0," Please enter a valid email address ")}function D(e,o){if(e&1&&(a(0,"div",8),m(1,j,1,0)(2,k,1,0),i()),e&2){let r,t=v();l(),s((r=t.registerForm.get("email"))!=null&&r.hasError("required")?1:(r=t.registerForm.get("email"))!=null&&r.hasError("email")?2:-1)}}function B(e,o){e&1&&n(0," Password is required ")}function z(e,o){e&1&&n(0," Password must be at least 6 characters ")}function U(e,o){if(e&1&&(a(0,"div",8),m(1,B,1,0)(2,z,1,0),i()),e&2){let r,t=v();l(),s((r=t.registerForm.get("password"))!=null&&r.hasError("required")?1:(r=t.registerForm.get("password"))!=null&&r.hasError("minlength")?2:-1)}}function H(e,o){e&1&&(a(0,"div",8),n(1,"Passwords do not match"),i())}function O(e,o){if(e&1&&(a(0,"div",17)(1,"div",22)(2,"div")(3,"p",23),n(4),i()()()()),e&2){let r=v();l(4),y(r.errorMessage)}}function Y(e,o){e&1&&(h(),a(0,"svg",24),u(1,"circle",25)(2,"path",26),i(),n(3," Creating account... "))}function J(e,o){e&1&&n(0," Create account ")}var A=class e{constructor(o,r,t){this.fb=o;this.authService=r;this.router=t;this.registerForm=this.fb.group({name:["",[p.required]],email:["",[p.required,p.email]],university:[""],password:["",[p.required,p.minLength(6)]],confirmPassword:["",[p.required]]},{validators:[this.passwordMatchValidator]})}registerForm;errorMessage=null;isLoading=!1;passwordMatchValidator(o){return o.get("password")?.value===o.get("confirmPassword")?.value?null:{mismatch:!0}}onSubmit(){if(this.registerForm.invalid)return;this.isLoading=!0,this.errorMessage=null;let{name:o,email:r,university:t,password:d}=this.registerForm.value;this.authService.register(o,r,d,t).subscribe({next:()=>{this.isLoading=!1,this.router.navigate(["/chat"])},error:c=>{this.isLoading=!1,this.errorMessage=c.message}})}static \u0275fac=function(r){return new(r||e)(g(G),g(E),g(S))};static \u0275cmp=C({type:e,selectors:[["app-register"]],decls:43,vars:8,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],[1,"mt-8","space-y-6",3,"ngSubmit","formGroup"],[1,"rounded-md","shadow-sm","space-y-4"],["for","name",1,"form-label"],["id","name","name","name","type","text","formControlName","name","placeholder","Full name","required","",1,"form-input"],[1,"form-error"],["for","email",1,"form-label"],["id","email","name","email","type","email","formControlName","email","placeholder","Email address","required","",1,"form-input"],["for","university",1,"form-label"],["id","university","name","university","type","text","formControlName","university","placeholder","Your university",1,"form-input"],["for","password",1,"form-label"],["id","password","name","password","type","password","formControlName","password","placeholder","Password","required","",1,"form-input"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","name","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirm password","required","",1,"form-input"],[1,"bg-red-50","border-l-4","border-red-500","p-4"],["type","submit",1,"btn","btn-primary","w-full","flex","justify-center",3,"disabled"],[1,"text-sm","text-center"],[1,"text-gray-600"],["routerLink","login",1,"font-medium","text-primary","hover:text-primary-dark"],[1,"flex"],[1,"text-sm","text-red-700"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(r,t){if(r&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),n(4," Create your UniChat account "),i(),a(5,"p",3),n(6," Connect with your university AI assistant "),i()(),a(7,"form",4),w("ngSubmit",function(){return t.onSubmit()}),a(8,"div",5)(9,"div")(10,"label",6),n(11,"Full name"),i(),u(12,"input",7),m(13,I,2,0,"div",8),i(),a(14,"div")(15,"label",9),n(16,"Email address"),i(),u(17,"input",10),m(18,D,3,1,"div",8),i(),a(19,"div")(20,"label",11),n(21,"University (Optional)"),i(),u(22,"input",12),i(),a(23,"div")(24,"label",13),n(25,"Password"),i(),u(26,"input",14),m(27,U,3,1,"div",8),i(),a(28,"div")(29,"label",15),n(30,"Confirm password"),i(),u(31,"input",16),m(32,H,2,0,"div",8),i()(),m(33,O,5,1,"div",17),a(34,"div")(35,"button",18),m(36,Y,4,0)(37,J,1,0),i()(),a(38,"div",19)(39,"p",20),n(40," Already have an account? "),a(41,"a",21),n(42," Sign in "),i()()()()()()),r&2){let d,c,f,x;l(7),_("formGroup",t.registerForm),l(6),s((d=t.registerForm.get("name"))!=null&&d.invalid&&((d=t.registerForm.get("name"))!=null&&d.touched)?13:-1),l(5),s((c=t.registerForm.get("email"))!=null&&c.invalid&&((c=t.registerForm.get("email"))!=null&&c.touched)?18:-1),l(9),s((f=t.registerForm.get("password"))!=null&&f.invalid&&((f=t.registerForm.get("password"))!=null&&f.touched)?27:-1),l(5),s((x=t.registerForm.get("confirmPassword"))!=null&&x.touched&&t.registerForm.hasError("mismatch")?32:-1),l(),s(t.errorMessage?33:-1),l(2),_("disabled",t.registerForm.invalid||t.isLoading),l(),s(t.isLoading?36:37)}},dependencies:[b,V,N,R,q,P,L,T,M,F],encapsulation:2})};export{A as RegisterComponent};
