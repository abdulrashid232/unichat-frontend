<div
  [ngClass]="[
    'chat-bubble',
    message.sender === 'user' ? 'chat-bubble-user' : 'chat-bubble-ai'
  ]"
>
  <div class="flex items-center space-x-2 mb-1">
    <span class="text-xs opacity-75 dark:text-gray-300">{{
      message.sender === "user" ? "You" : "UniChat AI"
    }}</span>
    @if (message.topic) {
    <span
      class="text-xs px-2 py-0.5 rounded-full bg-gray-100 dark:bg-gray-700 dark:text-gray-300"
      [ngClass]="{
        'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200':
          message.sender === 'user'
      }"
    >
      {{ message.topic }}
    </span>
    }
  </div>
  <markdown class="dark:text-gray-200" [data]="message.text"> </markdown>
  <div class="text-xs opacity-75 text-right mt-1">
    {{ message.timestamp | date : "shortTime" }}
  </div>
</div>
